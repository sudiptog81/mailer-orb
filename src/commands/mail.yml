description: >
  This command sends an E-mail to a recipient from a specified address
  using provided SMTP credentials
parameters:
  to:
    type: string
    description: "E-mail Recipient"
  from:
    type: string
    description: "E-mail Sender"
  smtp_host:
    type: string
    description: "SMTP Host"
  smtp_user:
    type: string
    description: "SMTP Username"
  smtp_pass:
    type: string
    description: "SMTP Password"
steps:
  - run:
      environment:
        PARAM_TO: <<parameters.to>>
        PARAM_FROM: <<parameters.from>>
        PARAM_SMTP_HOST: <<parameters.smtp_host>>
        PARAM_SMTP_USER: <<parameters.smtp_user>>
        PARAM_SMTP_PASS: <<parameters.smtp_pass>>
      name: Send E-mail
      command: <<include(scripts/mailer.sh)>>
