description: >
  This command sends an E-mail to a recipient from a specified address
  using provided SMTP credentials
parameters:
  to:
    type: string
    description: "E-mail Recipient"
  from:
    type: string
    description: "E-mail Sender"
  filename:
    type: string
    description: "File containing the e-mail subject and body"
steps:
  - run: sudo apt update && sudo apt install -y ssmtp
  - run:
      environment:
        PARAM_TO: <<parameters.to>>
        PARAM_FROM: <<parameters.from>>
        PARAM_FILENAME: <<parameters.filename>>
      name: Send E-mail
      command: <<include(scripts/mailer.sh)>>
